--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

ALTER TABLE ONLY public.storage_violations DROP CONSTRAINT fk_storage_violations_warehouses_warehouse_id;
ALTER TABLE ONLY public.sensors DROP CONSTRAINT fk_sensors_warehouses_warehouse_id;
ALTER TABLE ONLY public.batches DROP CONSTRAINT fk_batches_warehouses_warehouse_id;
ALTER TABLE ONLY public.batches DROP CONSTRAINT fk_batches_users_user_id;
ALTER TABLE ONLY public.batches DROP CONSTRAINT fk_batches_medicines_medicine_id;
DROP INDEX public."IX_storage_violations_warehouse_id";
DROP INDEX public."IX_sensors_warehouse_id";
DROP INDEX public."IX_batches_warehouse_id";
DROP INDEX public."IX_batches_user_id";
DROP INDEX public."IX_batches_medicine_id";
ALTER TABLE ONLY public.warehouses DROP CONSTRAINT pk_warehouses;
ALTER TABLE ONLY public.users DROP CONSTRAINT pk_users;
ALTER TABLE ONLY public.storage_violations DROP CONSTRAINT pk_storage_violations;
ALTER TABLE ONLY public.sensors DROP CONSTRAINT pk_sensors;
ALTER TABLE ONLY public.medicines DROP CONSTRAINT pk_medicines;
ALTER TABLE ONLY public.batches DROP CONSTRAINT pk_batches;
ALTER TABLE ONLY public."__EFMigrationsHistory" DROP CONSTRAINT "PK___EFMigrationsHistory";
DROP TABLE public.warehouses;
DROP TABLE public.users;
DROP TABLE public.storage_violations;
DROP TABLE public.sensors;
DROP TABLE public.medicines;
DROP TABLE public.batches;
DROP TABLE public."__EFMigrationsHistory";
SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO postgres;

--
-- Name: batches; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.batches (
    id integer NOT NULL,
    batch_number text NOT NULL,
    quantity integer NOT NULL,
    manufacture_date timestamp without time zone NOT NULL,
    expiration_date timestamp without time zone NOT NULL,
    warehouse_id integer NOT NULL,
    user_id integer NOT NULL,
    medicine_id integer NOT NULL
);


ALTER TABLE public.batches OWNER TO postgres;

--
-- Name: batches_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.batches ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.batches_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: medicines; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.medicines (
    id integer NOT NULL,
    name text NOT NULL,
    manufacturer text NOT NULL,
    description text,
    max_temperature real NOT NULL,
    min_temperature real NOT NULL,
    max_humidity real NOT NULL,
    min_humidity real NOT NULL
);


ALTER TABLE public.medicines OWNER TO postgres;

--
-- Name: medicines_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.medicines ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.medicines_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: sensors; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sensors (
    id integer NOT NULL,
    type integer NOT NULL,
    serial_number text NOT NULL,
    value real NOT NULL,
    warehouse_id integer NOT NULL
);


ALTER TABLE public.sensors OWNER TO postgres;

--
-- Name: sensors_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sensors ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sensors_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: storage_violations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.storage_violations (
    id integer NOT NULL,
    temperature real NOT NULL,
    humidity real NOT NULL,
    recorded_at timestamp without time zone NOT NULL,
    warehouse_id integer NOT NULL
);


ALTER TABLE public.storage_violations OWNER TO postgres;

--
-- Name: storage_violations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.storage_violations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.storage_violations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    first_name text NOT NULL,
    last_name text NOT NULL,
    email text NOT NULL,
    password_hash bytea NOT NULL,
    password_salt bytea NOT NULL,
    role integer NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: warehouses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.warehouses (
    id integer NOT NULL,
    name text NOT NULL,
    address text NOT NULL,
    max_temperature real NOT NULL,
    min_temperature real NOT NULL,
    max_humidity real NOT NULL,
    min_humidity real NOT NULL,
    created_at timestamp without time zone NOT NULL
);


ALTER TABLE public.warehouses OWNER TO postgres;

--
-- Name: warehouses_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.warehouses ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.warehouses_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20250511143025_InitialCreate	9.0.0
\.


--
-- Data for Name: batches; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.batches (id, batch_number, quantity, manufacture_date, expiration_date, warehouse_id, user_id, medicine_id) FROM stdin;
2	BATCH-16294	723	2023-12-11 15:21:50.546398	2025-08-11 15:21:50.546398	10	1	8
3	BATCH-58781	954	2024-01-11 15:21:50.546875	2025-03-11 15:21:50.546875	1	1	5
4	BATCH-16918	868	2023-12-11 15:21:50.546878	2025-06-11 15:21:50.546878	11	1	5
5	BATCH-44868	695	2025-01-11 15:21:50.546879	2027-07-11 15:21:50.546879	11	1	7
6	BATCH-83923	635	2024-11-11 15:21:50.546879	2026-11-11 15:21:50.546879	3	1	1
7	BATCH-46272	428	2023-09-11 15:21:50.54688	2025-07-11 15:21:50.54688	11	1	9
8	BATCH-68861	209	2025-03-11 15:21:50.54688	2027-11-11 15:21:50.54688	4	1	7
9	BATCH-27391	668	2023-11-11 15:21:50.54688	2026-03-11 15:21:50.54688	1	1	5
10	BATCH-92278	428	2024-05-11 15:21:50.54688	2026-01-11 15:21:50.54688	1	1	2
11	BATCH-72957	949	2024-03-11 15:21:50.546881	2025-09-11 15:21:50.546881	8	1	6
13	BATCH-46820	920	2025-04-11 15:21:50.546881	2027-03-11 15:21:50.546881	10	1	6
14	BATCH-36582	145	2025-02-11 15:21:50.546881	2027-06-11 15:21:50.546881	10	1	8
15	BATCH-81997	657	2023-06-11 15:21:50.546881	2024-06-11 15:21:50.546881	3	1	2
16	BATCH-46985	491	2024-04-11 15:21:50.546882	2024-11-11 15:21:50.546882	6	1	6
1	s12s3	3	2025-05-11 15:46:37.577	2025-05-11 15:46:37.577	1	1	1
17	s12s33	2	2025-05-11 14:33:24.195	2025-05-11 14:33:24.195	1	1	1
\.


--
-- Data for Name: medicines; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.medicines (id, name, manufacturer, description, max_temperature, min_temperature, max_humidity, min_humidity) FROM stdin;
2	ImmunoPlus0	BioNova	Sample description 0	11	-8	41	37
3	AquaDrop1	PharmaX	Sample description 1	16	-6	62	39
4	BetaCure2	HealthCorp	Sample description 2	16	4	48	36
5	OmniCure3	PharmaX	Sample description 3	29	-5	50	23
6	NovaHeal4	CureAll	Sample description 4	11	-2	66	16
7	NovaHeal5	WellnessLabs	Sample description 5	16	-10	44	14
8	NovaHeal6	MediGen	Sample description 6	16	-4	54	19
9	XenMed7	BioNova	Sample description 7	16	-3	41	11
10	MedAlpha8	HealthCorp	Sample description 8	6	-6	65	26
1	K-21	Sk211	some desc	20	30	60	70
\.


--
-- Data for Name: sensors; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.sensors (id, type, serial_number, value, warehouse_id) FROM stdin;
1	0	s-1	0	1
\.


--
-- Data for Name: storage_violations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.storage_violations (id, temperature, humidity, recorded_at, warehouse_id) FROM stdin;
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, first_name, last_name, email, password_hash, password_salt, role) FROM stdin;
1	kira	liko	kirashka@gmail.com	\\xa65dd80e4093cc30ca73abb3752190cef761c5ee8b7b688b45cb46388da9f831f5e4a7647491839098ae98c65de1d5c61759e826df04e5d90528759534a758fd	\\x87d5590c776b5fcf6b9abc1d02de8c0695c12d43e42e0564990b8ff923ba10c8c5c79d8aa930b888fd6caa99f2eadaa70611725b66acc6e950ec7c8f9fce24f92966fe2ea00ae5919ce7e676022c924fe765e78f449855768fa65da915e1a6a9bb89ed8ddbda5865719d1418393b28632e74f1067cfaf799f317b2cfae0963ab	2
2	lalo	lalo	lalo@gmail.com	\\x37b690a2ea82b20630287550e12aaa06f77ac71adfdf064b1f7c47f932438e948a43545f7220c777b5c9992a15dd81665980ba692c78fe6354c906c5360b6e6e	\\x856dfa5f28fbcf7cb24e787e58ed9699476ce91e1c63e6fa62a17565aeeb799b546c85e2012ed590f6e39e9b0789b88ca94ade4bedac2bedf1ae70b0bb53b60a0316a2777be6386ae2132bc8b467ade95de3b73913e0bc6222639e9b36a8cb912fb34c752e5a83e73c5ecf5b6bacff7b4b266eae89ce5a10b657b5193d63ee2c	3
\.


--
-- Data for Name: warehouses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.warehouses (id, name, address, max_temperature, min_temperature, max_humidity, min_humidity, created_at) FROM stdin;
1	Warehouse-1	Sw-1	20	30	50	70	2025-05-11 14:36:39.61296
2	Central Unit A	789 Gamma Rd.	6	-5	45	31	2024-10-12 15:07:10.389378
3	South Storage B	505 Iota Way	21	-18	74	39	2024-06-22 15:07:10.389403
4	East Facility C	123 Alpha St.	1	-10	62	28	2024-10-03 15:07:10.389404
5	West Hub D	123 Alpha St.	13	-8	44	21	2025-04-06 15:07:10.389404
6	Prime Storage E	123 Alpha St.	22	-14	81	19	2024-05-18 15:07:10.389404
7	Sigma Depot F	101 Delta Blvd.	16	-4	68	17	2024-09-02 15:07:10.389405
8	South Storage G	303 Zeta Dr.	18	-11	62	32	2024-10-25 15:07:10.389405
9	Delta Warehouse H	101 Delta Blvd.	3	-17	64	32	2024-10-22 15:07:10.389405
10	Prime Storage I	303 Zeta Dr.	19	-6	68	18	2024-09-25 15:07:10.389405
11	Omega Storage J	123 Alpha St.	6	-8	63	28	2024-11-23 15:07:10.389405
\.


--
-- Name: batches_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.batches_id_seq', 17, true);


--
-- Name: medicines_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.medicines_id_seq', 11, true);


--
-- Name: sensors_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.sensors_id_seq', 1, true);


--
-- Name: storage_violations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.storage_violations_id_seq', 1, false);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 2, true);


--
-- Name: warehouses_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.warehouses_id_seq', 12, true);


--
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- Name: batches pk_batches; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.batches
    ADD CONSTRAINT pk_batches PRIMARY KEY (id);


--
-- Name: medicines pk_medicines; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.medicines
    ADD CONSTRAINT pk_medicines PRIMARY KEY (id);


--
-- Name: sensors pk_sensors; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sensors
    ADD CONSTRAINT pk_sensors PRIMARY KEY (id);


--
-- Name: storage_violations pk_storage_violations; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_violations
    ADD CONSTRAINT pk_storage_violations PRIMARY KEY (id);


--
-- Name: users pk_users; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT pk_users PRIMARY KEY (id);


--
-- Name: warehouses pk_warehouses; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.warehouses
    ADD CONSTRAINT pk_warehouses PRIMARY KEY (id);


--
-- Name: IX_batches_medicine_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_batches_medicine_id" ON public.batches USING btree (medicine_id);


--
-- Name: IX_batches_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_batches_user_id" ON public.batches USING btree (user_id);


--
-- Name: IX_batches_warehouse_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_batches_warehouse_id" ON public.batches USING btree (warehouse_id);


--
-- Name: IX_sensors_warehouse_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_sensors_warehouse_id" ON public.sensors USING btree (warehouse_id);


--
-- Name: IX_storage_violations_warehouse_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_storage_violations_warehouse_id" ON public.storage_violations USING btree (warehouse_id);


--
-- Name: batches fk_batches_medicines_medicine_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.batches
    ADD CONSTRAINT fk_batches_medicines_medicine_id FOREIGN KEY (medicine_id) REFERENCES public.medicines(id) ON DELETE CASCADE;


--
-- Name: batches fk_batches_users_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.batches
    ADD CONSTRAINT fk_batches_users_user_id FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: batches fk_batches_warehouses_warehouse_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.batches
    ADD CONSTRAINT fk_batches_warehouses_warehouse_id FOREIGN KEY (warehouse_id) REFERENCES public.warehouses(id) ON DELETE CASCADE;


--
-- Name: sensors fk_sensors_warehouses_warehouse_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sensors
    ADD CONSTRAINT fk_sensors_warehouses_warehouse_id FOREIGN KEY (warehouse_id) REFERENCES public.warehouses(id) ON DELETE CASCADE;


--
-- Name: storage_violations fk_storage_violations_warehouses_warehouse_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_violations
    ADD CONSTRAINT fk_storage_violations_warehouses_warehouse_id FOREIGN KEY (warehouse_id) REFERENCES public.warehouses(id) ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

